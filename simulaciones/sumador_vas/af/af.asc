Version 4
SHEET 1 3880 1312
WIRE 416 -1680 48 -1680
WIRE 864 -1680 864 -1776
WIRE 864 -1680 416 -1680
WIRE 1168 -1680 864 -1680
WIRE 1728 -1680 1168 -1680
WIRE 1728 -1568 1728 -1680
WIRE 48 -1488 48 -1680
WIRE 416 -1392 416 -1680
WIRE 1168 -1376 1168 -1680
WIRE 1488 -1328 1232 -1328
WIRE 1728 -1328 1728 -1488
WIRE 1728 -1328 1568 -1328
WIRE 48 -1136 48 -1408
WIRE 1728 -1136 1728 -1328
WIRE 416 -1088 416 -1328
WIRE 416 -1088 112 -1088
WIRE 528 -1088 416 -1088
WIRE 1168 -1088 1168 -1280
WIRE 1168 -1088 608 -1088
WIRE 1664 -1088 1168 -1088
WIRE 1168 -992 1168 -1088
WIRE 1008 -832 896 -832
WIRE 1168 -832 1168 -912
WIRE 1168 -832 1072 -832
WIRE 1168 -720 1168 -832
WIRE 1168 -528 1168 -640
WIRE -176 -432 -208 -432
WIRE 48 -432 48 -1040
WIRE 48 -432 -96 -432
WIRE 160 -432 48 -432
WIRE 288 -432 240 -432
WIRE 384 -384 384 -416
WIRE -208 -320 -208 -432
WIRE 288 -320 288 -432
WIRE 2336 -320 2336 -848
WIRE -272 -272 -384 -272
WIRE 384 -272 384 -320
WIRE 384 -272 352 -272
WIRE 432 -272 384 -272
WIRE 560 -272 512 -272
WIRE 672 -272 560 -272
WIRE 1728 -272 1728 -1040
WIRE 1728 -272 752 -272
WIRE 2016 -272 1728 -272
WIRE 2016 -224 2016 -272
WIRE -384 -208 -384 -272
WIRE 560 -208 560 -272
WIRE 1104 -128 960 -128
WIRE 1728 -128 1728 -272
WIRE 1728 -128 1168 -128
WIRE 560 -96 560 -128
WIRE 2016 -96 2016 -144
WIRE -384 -80 -384 -128
WIRE 1264 -48 1120 -48
WIRE 2336 -48 2336 -224
WIRE 560 0 560 -32
WIRE 1120 16 1120 -48
WIRE -208 64 -208 -224
WIRE 960 64 960 -128
WIRE 960 64 -208 64
WIRE 1056 64 960 64
WIRE 1264 80 1264 -48
WIRE 288 128 288 -224
WIRE 288 128 144 128
WIRE 1728 144 1728 -128
WIRE 2336 176 2336 32
WIRE 1120 192 1120 112
WIRE 1664 192 1120 192
WIRE -1632 208 -1632 144
WIRE -1184 208 -1184 144
WIRE -208 240 -208 64
WIRE 288 240 288 128
WIRE 144 288 144 128
WIRE 144 288 -144 288
WIRE 224 288 144 288
WIRE -1632 336 -1632 288
WIRE -1184 336 -1184 288
WIRE 1728 464 1728 240
WIRE -208 512 -208 336
WIRE 288 512 288 336
WIRE 1120 528 1120 192
WIRE -1632 608 -1632 544
WIRE -1632 784 -1632 688
WIRE -208 816 -208 592
WIRE 288 816 288 592
WIRE 288 816 -208 816
WIRE 976 816 288 816
WIRE 1120 816 1120 608
WIRE 1120 816 976 816
WIRE 1728 816 1728 544
WIRE 1728 816 1120 816
WIRE 976 896 976 816
FLAG -1632 784 0
FLAG -1184 336 0
FLAG -1632 336 0
FLAG -1632 544 Vin
FLAG -1632 144 V+
FLAG -1184 144 V-
FLAG 1168 -528 0
FLAG 896 -832 V+
FLAG 2336 -848 V+
FLAG 2336 176 V-
FLAG 560 0 0
FLAG -384 -80 0
FLAG 1264 80 0
FLAG 976 896 V-
FLAG 864 -1776 V+
FLAG 2016 -96 0
FLAG 384 -416 Vin
FLAG 560 -272 Vo
DATAFLAG 1728 464 ""
DATAFLAG 288 -32 ""
DATAFLAG 288 432 "Ie(Q8)"
DATAFLAG -208 432 "Ie(Q7)"
DATAFLAG 1728 688 "I(R1)"
DATAFLAG 1376 -272 "I(R4)"
DATAFLAG 1728 -272 ""
DATAFLAG 1728 0 "Ic(Q3)"
DATAFLAG -208 -368 ""
DATAFLAG 288 -384 ""
DATAFLAG 128 288 ""
DATAFLAG -208 -160 "Ic(Q1)"
DATAFLAG -208 160 "Ic(Q7)"
DATAFLAG 48 -432 ""
DATAFLAG 48 -624 "Ic(Q4)"
DATAFLAG -384 -272 ""
SYMBOL res 304 608 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value {ReFte}
SYMBOL res -192 608 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value {ReFte}
SYMBOL npn 1664 144 R0
SYMATTR InstName Q3
SYMATTR Value BC547B
SYMBOL voltage -1632 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {Vcc}
SYMBOL voltage -1184 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value {-Vcc}
SYMBOL voltage -1632 592 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value 0
SYMBOL res 1712 448 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 576 -112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value {Rr2}
SYMBOL pnp -272 -224 M180
SYMATTR InstName Q1
SYMATTR Value BC557B
SYMBOL pnp 352 -224 R180
SYMATTR InstName Q2
SYMATTR Value BC557B
SYMBOL npn -144 240 M0
SYMATTR InstName Q7
SYMATTR Value BC547B
SYMBOL npn 224 240 R0
SYMATTR InstName Q8
SYMATTR Value BC547B
SYMBOL res 768 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rr1}
SYMBOL res 256 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {ReDif}
SYMBOL res -80 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {ReDif}
SYMBOL pnp 112 -1040 R180
SYMATTR InstName Q4
SYMATTR Value BC557B
SYMBOL pnp 1232 -1280 R180
SYMATTR InstName Q5
SYMATTR Value BC557B
SYMBOL pnp 1664 -1040 M180
SYMATTR InstName Q6
SYMATTR Value BC557B
SYMBOL cap 400 -1392 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL cap 1008 -816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL res 32 -1504 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL res 1584 -1344 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2.2k
SYMBOL res 1744 -1472 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 68
SYMBOL res 1184 -624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 1184 -896 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 512 -1072 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL npn 2272 -320 R0
SYMATTR InstName Q9
SYMATTR Value BC547B
SYMBOL res 2320 -64 R0
SYMATTR InstName R16
SYMATTR Value 500k
SYMBOL res -400 -224 R0
SYMATTR InstName R7
SYMATTR Value {Rr1}
SYMBOL cap 544 -96 R0
SYMATTR InstName C3
SYMATTR Value 1000µ
SYMBOL npn 1056 16 R0
SYMATTR InstName Q10
SYMATTR Value BC547B
SYMBOL res 1104 512 R0
SYMATTR InstName R17
SYMATTR Value 2.2k
SYMBOL cap 1168 -144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Ccomp
SYMATTR Value {Ccomp}
SYMBOL res 2000 -240 R0
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL ind 416 -256 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 100
SYMBOL cap 368 -384 R0
SYMATTR InstName C4
SYMATTR Value 100
TEXT -1672 1184 Left 2 !.INCLUDE ../../D1N4148.lib
TEXT -1672 1072 Left 2 !.param Vcc=30
TEXT -1680 1024 Left 2 !.param N_cycles_show=20 N_cycles_wait=10
TEXT -1672 984 Left 2 !.param Vin=1 fin=10k
TEXT -1648 944 Left 2 !.param ReDif=100 ReFte=1
TEXT -1656 904 Left 2 !.param Rr1=9.6k Rr2=400
TEXT -1656 864 Left 2 !.param Ccomp=100p
TEXT -1682 1204 Left 2 !.ac dec 1000 1 10meg
