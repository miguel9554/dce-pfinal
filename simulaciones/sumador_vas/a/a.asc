Version 4
SHEET 1 2520 1312
WIRE 416 -1680 112 -1680
WIRE 736 -1680 736 -1792
WIRE 736 -1680 416 -1680
WIRE 992 -1680 736 -1680
WIRE 1456 -1680 992 -1680
WIRE 1456 -1568 1456 -1680
WIRE 112 -1488 112 -1680
WIRE 416 -1392 416 -1680
WIRE 992 -1376 992 -1680
WIRE 1216 -1328 1056 -1328
WIRE 1456 -1328 1456 -1488
WIRE 1456 -1328 1296 -1328
WIRE 112 -1136 112 -1408
WIRE 1456 -1136 1456 -1328
WIRE 416 -1088 416 -1328
WIRE 416 -1088 176 -1088
WIRE 528 -1088 416 -1088
WIRE 992 -1088 992 -1280
WIRE 992 -1088 608 -1088
WIRE 1392 -1088 992 -1088
WIRE 992 -992 992 -1088
WIRE 592 -832 480 -832
WIRE 992 -832 992 -912
WIRE 992 -832 656 -832
WIRE 992 -720 992 -832
WIRE 992 -528 992 -640
WIRE -16 -432 -48 -432
WIRE 112 -432 112 -1040
WIRE 112 -432 64 -432
WIRE 160 -432 112 -432
WIRE 288 -432 240 -432
WIRE -48 -320 -48 -432
WIRE 288 -320 288 -432
WIRE -352 -272 -352 -368
WIRE -352 -272 -416 -272
WIRE -272 -272 -272 -368
WIRE -192 -272 -272 -272
WIRE -112 -272 -192 -272
WIRE 784 -272 352 -272
WIRE 896 -272 784 -272
WIRE 1376 -272 976 -272
WIRE 1456 -272 1456 -1040
WIRE 1456 -272 1376 -272
WIRE 784 -208 784 -272
WIRE -352 -176 -352 -272
WIRE -272 -176 -272 -272
WIRE 2112 -144 2112 -672
WIRE 1456 -96 1456 -272
WIRE 2048 -96 1456 -96
WIRE 784 -80 784 -128
WIRE 1456 16 1456 -96
WIRE -48 64 -48 -224
WIRE -48 64 -240 64
WIRE 1392 64 -48 64
WIRE -240 112 -240 64
WIRE 288 128 288 -224
WIRE 288 128 144 128
WIRE 2112 128 2112 -48
WIRE -1632 208 -1632 144
WIRE -1184 208 -1184 144
WIRE -240 224 -240 176
WIRE -48 240 -48 64
WIRE 288 240 288 128
WIRE 144 288 144 128
WIRE 144 288 16 288
WIRE 224 288 144 288
WIRE -1632 336 -1632 288
WIRE -1184 336 -1184 288
WIRE 2112 352 2112 208
WIRE 1456 464 1456 112
WIRE -48 512 -48 336
WIRE 288 512 288 336
WIRE -1632 608 -1632 544
WIRE -1632 784 -1632 688
WIRE -48 816 -48 592
WIRE 112 816 -48 816
WIRE 288 816 288 592
WIRE 288 816 112 816
WIRE 112 880 112 816
WIRE 1456 880 1456 544
FLAG -1632 784 0
FLAG -1184 336 0
FLAG -1632 336 0
FLAG -1632 544 Vin
FLAG -1632 144 V+
FLAG -1184 144 V-
FLAG 112 880 V-
FLAG 784 -80 0
FLAG 1456 880 V-
FLAG 1376 -272 Vo
FLAG 992 -528 0
FLAG 480 -832 V+
FLAG 736 -1792 V+
FLAG -416 -272 0
FLAG -192 -272 Vin
FLAG 2112 -672 V+
FLAG 2112 352 V-
FLAG -240 224 0
DATAFLAG 1456 336 ""
DATAFLAG -176 -272 ""
DATAFLAG 480 -272 ""
DATAFLAG 288 -32 ""
DATAFLAG 288 432 "Ie(Q8)"
DATAFLAG -48 432 "Ie(Q7)"
DATAFLAG 1456 688 "I(R1)"
DATAFLAG 1104 -272 "I(R4)"
DATAFLAG 1456 -272 ""
DATAFLAG 1456 -128 "Ic(Q3)"
DATAFLAG 784 -272 ""
DATAFLAG -48 -368 ""
DATAFLAG 288 -384 ""
DATAFLAG 1072 64 ""
DATAFLAG 128 288 ""
DATAFLAG -48 -160 "Ic(Q1)"
DATAFLAG -48 160 "Ic(Q7)"
DATAFLAG 112 -432 ""
DATAFLAG 112 -624 "Ic(Q4)"
DATAFLAG 112 816 ""
SYMBOL res 304 608 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value {ReFte}
SYMBOL res -32 608 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value {ReFte}
SYMBOL npn 1392 16 R0
SYMATTR InstName Q3
SYMATTR Value BC547B
SYMBOL voltage -1632 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {Vcc}
SYMBOL voltage -1184 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value {-Vcc}
SYMBOL voltage -1632 592 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 {Vin} {fin})
SYMBOL res 1440 448 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res 800 -112 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value {Rr2}
SYMBOL pnp -112 -224 M180
SYMATTR InstName Q1
SYMATTR Value BC557B
SYMBOL pnp 352 -224 R180
SYMATTR InstName Q2
SYMATTR Value BC557B
SYMBOL npn 16 240 M0
SYMATTR InstName Q7
SYMATTR Value BC547B
SYMBOL npn 224 240 R0
SYMATTR InstName Q8
SYMATTR Value BC547B
SYMBOL res 992 -288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {Rr1}
SYMBOL res 256 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {ReDif}
SYMBOL res 80 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {ReDif}
SYMBOL res -256 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {Rr1}
SYMBOL res -256 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value {Rr2}
SYMBOL pnp 176 -1040 R180
SYMATTR InstName Q4
SYMATTR Value BC557B
SYMBOL pnp 1056 -1280 R180
SYMATTR InstName Q5
SYMATTR Value BC557B
SYMBOL pnp 1392 -1040 M180
SYMATTR InstName Q6
SYMATTR Value BC557B
SYMBOL cap 400 -1392 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL cap 592 -816 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL res 96 -1504 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL res 1312 -1344 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 2.2k
SYMBOL res 1472 -1472 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 68
SYMBOL res 1008 -624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 1008 -896 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 512 -1072 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMBOL npn 2048 -144 R0
SYMATTR InstName Q9
SYMATTR Value BC547B
SYMBOL res 2096 112 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL cap -256 112 R0
SYMATTR InstName Ccomp
SYMATTR Value {Ccomp}
TEXT -1672 1184 Left 2 !.INCLUDE ../../D1N4148.lib
TEXT -1680 1216 Left 2 !.tran 0 {(N_cycles_wait+N_cycles_show)/fin} {N_cycles_wait/fin} {1/(fin*10e3)}
TEXT -1680 1256 Left 2 !.four {fin} 9 {N_cycles_show} V(Vo)
TEXT -1680 1296 Left 2 !.OPTIONS plotwinsize=0 numdgt=15
TEXT -1672 1072 Left 2 !.param Vcc=30
TEXT -1680 1024 Left 2 !.param N_cycles_show=20 N_cycles_wait=100
TEXT -1672 984 Left 2 !.param Vin=1 fin=10k
TEXT -1648 944 Left 2 !.param ReDif=100 ReFte=0.001
TEXT -1656 904 Left 2 !.param Rr1=9.6k Rr2=400
TEXT -1656 864 Left 2 !.param Ccomp=1p
