Version 4
SHEET 1 2768 1996
WIRE -1488 -2192 -1792 -2192
WIRE -1168 -2192 -1168 -2304
WIRE -1168 -2192 -1488 -2192
WIRE -1072 -2192 -1168 -2192
WIRE -608 -2192 -1072 -2192
WIRE -608 -2080 -608 -2192
WIRE -1792 -2000 -1792 -2192
WIRE -1488 -1904 -1488 -2192
WIRE -1072 -1888 -1072 -2192
WIRE -848 -1840 -1008 -1840
WIRE -608 -1840 -608 -2000
WIRE -608 -1840 -768 -1840
WIRE -1792 -1648 -1792 -1920
WIRE -608 -1648 -608 -1840
WIRE -1488 -1600 -1488 -1840
WIRE -1488 -1600 -1728 -1600
WIRE -1376 -1600 -1488 -1600
WIRE -1072 -1600 -1072 -1792
WIRE -1072 -1600 -1296 -1600
WIRE -672 -1600 -1072 -1600
WIRE -1072 -1504 -1072 -1600
WIRE -1312 -1344 -1424 -1344
WIRE -1072 -1344 -1072 -1424
WIRE -1072 -1344 -1248 -1344
WIRE -1072 -1232 -1072 -1344
WIRE -1072 -1040 -1072 -1152
WIRE 176 -1040 -144 -1040
WIRE 496 -1040 176 -1040
WIRE 576 -1040 496 -1040
WIRE 1312 -832 1312 -880
WIRE 1504 -832 1504 -880
WIRE 1312 -720 1312 -752
WIRE 1312 -720 1200 -720
WIRE 1504 -720 1504 -752
WIRE 1504 -720 1424 -720
WIRE -144 -704 -144 -1040
WIRE 1200 -704 1200 -720
WIRE 1424 -704 1424 -720
WIRE -1792 -688 -1792 -1552
WIRE 1312 -688 1312 -720
WIRE 1504 -688 1504 -720
WIRE -608 -656 -608 -1552
WIRE -416 -656 -608 -656
WIRE -208 -656 -352 -656
WIRE -608 -560 -608 -656
WIRE 1312 -560 1312 -608
WIRE 1504 -560 1504 -608
WIRE 496 -496 496 -1040
WIRE -1792 -448 -1792 -608
WIRE -144 -448 -144 -608
WIRE 432 -448 -144 -448
WIRE -144 -304 -144 -448
WIRE -608 -288 -608 -496
WIRE -608 -288 -928 -288
WIRE 496 -224 496 -400
WIRE 656 -224 496 -224
WIRE 800 -224 720 -224
WIRE -144 -128 -144 -224
WIRE 496 -128 496 -224
WIRE 496 -128 -144 -128
WIRE -608 -112 -608 -288
WIRE 176 0 176 -1040
WIRE -928 48 -928 -288
WIRE -608 48 -608 -32
WIRE -384 48 -608 48
WIRE -304 48 -384 48
WIRE 112 48 -224 48
WIRE 496 176 496 -128
WIRE -384 192 -384 48
WIRE 176 224 176 96
WIRE 432 224 176 224
WIRE -608 240 -608 48
WIRE -928 288 -928 128
WIRE -672 288 -928 288
WIRE 496 336 496 272
WIRE -928 400 -928 288
WIRE 176 416 176 224
WIRE 496 448 496 416
WIRE 848 448 496 448
WIRE 848 480 848 448
WIRE 496 512 496 448
WIRE 848 624 848 560
WIRE -928 704 -928 480
WIRE -608 704 -608 336
WIRE -608 704 -928 704
WIRE -384 704 -384 256
WIRE -384 704 -608 704
WIRE 496 704 496 592
WIRE 176 752 176 496
WIRE 432 752 176 752
WIRE 176 896 176 752
WIRE -608 944 -608 704
WIRE -304 944 -608 944
WIRE 112 944 -224 944
WIRE 496 1040 496 800
WIRE 496 1040 -144 1040
WIRE -608 1088 -608 944
WIRE -144 1136 -144 1040
WIRE 496 1200 496 1040
WIRE 656 1200 496 1200
WIRE 816 1200 720 1200
WIRE 496 1264 496 1200
WIRE -144 1312 -144 1216
WIRE 432 1312 -144 1312
WIRE -144 1488 -144 1312
WIRE -608 1536 -608 1152
WIRE -608 1536 -1152 1536
WIRE -336 1536 -608 1536
WIRE -208 1536 -272 1536
WIRE -1152 1648 -1152 1536
WIRE -1152 1808 -1152 1728
WIRE -144 1936 -144 1584
WIRE 176 1936 176 992
WIRE 176 1936 -144 1936
WIRE 496 1936 496 1360
WIRE 496 1936 176 1936
WIRE 624 1936 496 1936
FLAG 848 624 0
FLAG 800 -224 V1+
FLAG 816 1200 V1-
FLAG 624 1936 V2-
FLAG 576 -1040 V2+
FLAG -1152 1808 0
FLAG 1200 -704 0
FLAG 1424 -704 0
FLAG 1312 -560 V1-
FLAG 1312 -880 V1+
FLAG 1504 -880 V2+
FLAG 1504 -560 V2-
FLAG 848 448 Vo
FLAG -1792 -448 0
FLAG -1072 -1040 0
FLAG -1424 -1344 V+
FLAG -1168 -2304 V2+
DATAFLAG -1792 -1344 ""
DATAFLAG -1792 -1792 ""
DATAFLAG -1568 -1600 ""
DATAFLAG -608 -1456 ""
DATAFLAG -608 -1744 ""
DATAFLAG -1072 -2000 ""
DATAFLAG -928 -1840 ""
DATAFLAG -608 -880 "I(Rl2)"
DATAFLAG -1792 -896 "I(Rl1)"
DATAFLAG -1072 -1344 "I(R5)"
DATAFLAG -1072 -1600 ""
DATAFLAG -1072 -2192 ""
DATAFLAG -608 -1936 "I(R7)"
DATAFLAG -608 944 ""
DATAFLAG -608 -288 ""
DATAFLAG -608 48 ""
DATAFLAG 624 448 ""
DATAFLAG 0 48 ""
DATAFLAG -16 944 ""
DATAFLAG 176 224 ""
DATAFLAG -608 1536 ""
DATAFLAG -64 1936 ""
DATAFLAG -128 1312 ""
SYMBOL npn 112 0 R0
SYMATTR InstName Q1
SYMATTR Value BC547B
SYMBOL npn 432 176 R0
SYMATTR InstName Q2
SYMATTR Value BC547B
SYMBOL npn 432 -496 R0
SYMATTR InstName Q3
SYMATTR Value BC547B
SYMBOL npn -208 -704 R0
SYMATTR InstName Q4
SYMATTR Value BC547B
SYMBOL res 480 320 R0
SYMATTR InstName R1
SYMATTR Value 0
SYMBOL res 480 496 R0
SYMATTR InstName R2
SYMATTR Value 0
SYMBOL pnp 432 800 M180
SYMATTR InstName Q5
SYMATTR Value BC557B
SYMBOL pnp 112 992 M180
SYMATTR InstName Q6
SYMATTR Value BC557B
SYMBOL pnp 432 1360 M180
SYMATTR InstName Q7
SYMATTR Value BC557B
SYMBOL pnp -208 1584 M180
SYMATTR InstName Q8
SYMATTR Value BC557B
SYMBOL res 160 400 R0
SYMATTR InstName R3
SYMATTR Value 200
SYMBOL res 832 464 R0
SYMATTR InstName R4
SYMATTR Value 8
SYMBOL res -160 1120 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res -160 -320 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL diode 720 -240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 656 1216 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -272 1520 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -416 -640 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL voltage -1152 1632 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE({Voffset} {Vin} {fin})
SYMBOL voltage 1312 -848 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value {V1}
SYMBOL voltage 1312 -704 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value {V1}
SYMBOL voltage 1504 -848 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V8
SYMATTR Value {V2}
SYMBOL voltage 1504 -704 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V9
SYMATTR Value {V2}
SYMBOL npn -672 240 R0
SYMATTR InstName Q9
SYMATTR Value BC547B
SYMBOL res -208 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100
SYMBOL res -208 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100
SYMBOL res -624 -128 R0
SYMATTR InstName R9
SYMATTR Value 16
SYMBOL zener -592 -496 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4728
SYMBOL zener -592 1152 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value 1N4728
SYMBOL res -944 32 R0
SYMATTR InstName R10
SYMATTR Value 3.3k
SYMBOL res -944 384 R0
SYMATTR InstName R11
SYMATTR Value 1.68k
SYMBOL pnp -1728 -1552 R180
SYMATTR InstName Q10
SYMATTR Value BC557B
SYMBOL pnp -1008 -1792 R180
SYMATTR InstName Q11
SYMATTR Value BC557B
SYMBOL pnp -672 -1552 M180
SYMATTR InstName Q12
SYMATTR Value BC557B
SYMBOL res -1808 -2016 R0
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL res -1280 -1616 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 2.2k
SYMBOL res -864 -1824 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 2.2k
SYMBOL res -624 -2096 R0
SYMATTR InstName R15
SYMATTR Value 68
SYMBOL res -1808 -704 R0
SYMATTR InstName RL1
SYMATTR Value 1
SYMBOL cap -1504 -1904 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL cap -1312 -1328 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL res -1088 -1520 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res -1088 -1248 R0
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL cap -400 192 R0
SYMATTR InstName C3
SYMATTR Value 20n
TEXT 1792 -760 Left 2 !.param V1=20 V2=30
TEXT 1792 -712 Left 2 !.param Vin=25 fin=10k Voffset=0
TEXT 1792 -624 Left 2 !.tran 0 {(N_cycles_wait+N_cycles_show)/fin} {N_cycles_wait/fin} {1/(fin*10e3)}
TEXT 1792 -672 Left 2 !.param N_cycles_show=10 N_cycles_wait=10
TEXT 1800 -592 Left 2 !;op 0 {(N_cycles_wait+N_cycles_show)/fin} {N_cycles_wait/fin} {1/(fin*10e3)}
TEXT 1792 -528 Left 2 !.four {fin} 9 {N_cycles_show} V(Vo)
TEXT 1792 -488 Left 2 !.OPTIONS plotwinsize=0 numdgt=15
TEXT 1800 -336 Left 2 !.MODEL 1N4728 D( IS=15N N=2.22 BV=3.3 IBV=76M \n+      RS=169M CJO=4P VJ=750M M=330M FC=500M \n+      TT=100N EG=1.11 XTI=3 KF=0 AF=1 \n+      )
