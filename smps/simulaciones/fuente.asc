Version 4
SHEET 1 1696 5956
WIRE 16 -32 -960 -32
WIRE 864 160 720 160
WIRE 512 176 -160 176
WIRE 864 176 864 160
WIRE 832 192 720 192
WIRE 16 208 16 -32
WIRE 272 208 16 208
WIRE 320 208 272 208
WIRE 464 208 400 208
WIRE 512 208 464 208
WIRE -960 224 -960 -32
WIRE 752 224 720 224
WIRE 752 256 752 224
WIRE -160 352 -160 176
WIRE 272 368 272 208
WIRE 608 368 272 368
WIRE 832 368 832 192
WIRE 832 368 688 368
WIRE 464 400 464 208
WIRE 272 416 272 368
WIRE 832 432 832 368
WIRE 832 560 832 512
WIRE -960 576 -960 304
WIRE -960 576 -1136 576
WIRE -864 576 -960 576
WIRE 272 576 272 480
WIRE 464 576 464 464
WIRE 464 576 272 576
WIRE -160 592 -160 432
WIRE 272 624 272 576
WIRE -1136 640 -1136 576
WIRE 16 640 16 432
WIRE -864 656 -864 576
WIRE -1136 784 -1136 720
WIRE -864 784 -864 736
WIRE -1184 800 -1312 800
WIRE -912 800 -976 800
WIRE -1312 816 -1312 800
WIRE -1184 848 -1232 848
WIRE -912 848 -944 848
WIRE -1232 928 -1232 848
WIRE -976 928 -976 800
WIRE -976 928 -1232 928
WIRE -944 928 -944 848
WIRE -656 928 -944 928
WIRE -1232 976 -1232 928
WIRE -1136 976 -1136 864
WIRE -864 976 -864 864
WIRE -656 976 -656 928
WIRE -1232 1088 -1232 1056
WIRE -656 1088 -656 1056
FLAG -160 592 0
FLAG 832 560 0
FLAG 752 256 0
FLAG 864 176 0
FLAG 272 624 0
FLAG 16 640 0
FLAG 272 208 Vout
FLAG 464 208 Vsw
FLAG 832 368 Vfb
FLAG -1136 976 0
FLAG -1232 1088 0
FLAG -1312 816 0
FLAG -864 976 0
FLAG -656 1088 0
SYMBOL AutoGenerated\\LM2576_TRANS 608 192 R0
SYMATTR InstName U1
SYMBOL voltage -160 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 30
SYMBOL ind 304 224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 200µ
SYMBOL cap 256 416 R0
SYMATTR InstName C1
SYMATTR Value 2m
SYMATTR SpiceLine Rser=0.1
SYMBOL schottky 480 464 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 704 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL res 848 528 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value {R1}
SYMBOL res 0 336 R0
SYMATTR InstName RL
SYMATTR Value {RL}
SYMBOL sw -1136 768 R0
SYMATTR InstName S1
SYMATTR Value SWITCH
SYMBOL voltage -1232 960 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 30 {T_SWITCH} 1n 1n 10 20)
SYMBOL res -1152 624 R0
SYMATTR InstName R3
SYMATTR Value {RL/6}
SYMBOL res -880 640 R0
SYMATTR InstName R4
SYMATTR Value {RL}
SYMBOL sw -864 768 R0
SYMATTR InstName S2
SYMATTR Value SWITCH
SYMBOL voltage -656 960 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 10
SYMBOL res -976 208 R0
SYMATTR InstName R5
SYMATTR Value 1µ
TEXT 1016 392 Left 2 !.tran 0 {T_SWITCH*2} 0
TEXT 1016 224 Left 2 !.param Vo=15 Io=1
TEXT 1008 288 Left 2 !.param RL=Vo/Io R1=3.3k R2=R1*(Vo-1.23)/1.23
TEXT 1008 336 Left 2 !.param Fs=52k Ts=1/Fs
TEXT 992 96 Left 2 !.meas TRAN IL_mean AVG -I(L1) FROM 12m
TEXT 1008 144 Left 2 !.meas deltaI RMS -I(L1) - IL_mean FROM 12m
TEXT -1352 1200 Left 2 !.model SWITCH SW(Ron=1m Roff=100Meg Vt=0 Vh=0)
TEXT -744 744 Left 2 ;Esta trabaja primero
TEXT -1464 696 Left 2 ;Esta entra después
TEXT 1008 448 Left 2 !.param T_SWITCH=20m
TEXT 224 680 Left 2 ;este capacitor tiene que tener una ESR (resistencia equivalente serie) o sino el sistema es inestable
